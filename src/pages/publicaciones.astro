---
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Navbarlight from "@components/navbar/navbarlight.astro";

// Importar los datos desde el archivo de datos
import { fetchGoogleSheetData } from '../utils/google-sheets';

// Obtener los datos de las publicaciones desde Google Sheets
const { publicaciones } = await fetchGoogleSheetData(); // Asegúrate de que solo usas publicaciones para este caso
---

<Layout title="Publicaciones">
  <Navbarlight />
  <Container>
    <div class="mx-auto max-w-3xl mt-14 text-center">
      <h1 class="text-4xl lg:text-5xl font-bold lg:tracking-tight mt-1 lg:leading-tight">
        Artículos y comentarios publicados
      </h1>
      <p class="text-lg text-gray-600 mt-2">Acá podés encontrar nuestros artículos y comentarios publicados, donde acordamos las últimas tendencias, novedades legales y temas relevantes en el ámbito del derecho tecnológico y digital</p>
      <div class="mt-6">
        <ul>
          {publicaciones.map((row) => (  // Usar 'publicaciones' en lugar de 'sheetData'
            <li key={row[0]} class="mb-6 border-b border-gray-300 pb-6">
              <div class="flex justify-between items-center">
                <h3 class="text-xl font-semibold text-gray-800">{row[0]}</h3> {/* Titulo */}
                <a 
                  href={row[1]}  {/* URL (columna B) */}
                  target="_blank" 
                  class="uppercase text-c pill mt-3 px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg hover:#2d3748 transition-colors duration-300 ease-in-out">
                  Ver publicación
                </a>
              </div>
            </li>
          ))}
        </ul>
      </div>
    </div>
  </Container>
</Layout>
